<header v-deep>
    <div v-deep class="icon square" style="border: 1px solid; cursor: pointer" 
        draggable="true" role="link" tabindex="0" aria-label="Go to homepage"
        @click="goHome" @keydown.enter="goHome"
        @dblclick="closeapp" @mousedown.middle="openBlank"
        @dragstart="appIcon_dragstart"></div>
    <span v-deep class="sep" style="margin: 0 5px 0 10px"></span>
    <ElButtonGroup v-deep>
        <ElButton @click="reload" aria-label="Reload the content" v-deep text><ElIcon><RefreshRight /></ElIcon></ElButton>
        <ElButton @click="hist(-1)" aria-label="Back to last page" v-deep text><ElIcon><ArrowLeft /></ElIcon></ElButton>
        <ElButton @click="hist(1)" aria-label="Go to next page" v-deep text><ElIcon><ArrowRight /></ElIcon></ElButton>
    </ElButtonGroup>
    <span v-deep class="sep" style="margin: 0 5px"></span>
    <ElButton class="ws" @click="pathUp(false)" @mousedown.middle="pathUp(true)" aria-label="Switch to parent directory" v-deep text><ElIcon><Top /></ElIcon></ElButton>
    <span v-deep class="sep ws" style="margin: 0 5px"></span>
    <ElButton style="color:#000" @click="openTransPanel" aria-label="Open transfer tasks list" v-deep text>T</ElButton>
    <span v-deep class="sep" style="margin: 0 5px"></span>
    <MainMenuBar v-deep class="ws" />
    <span v-deep class="sep ws" style="margin: 0 10px 0 5px"></span>
    <!-- <div v-deep ref="current_directory" class="cd">&nbsp;</div> -->
    <div v-deep class="titlebar" :title="apptitle">{{apptitle}}</div>
    <span v-deep class="sep" style="margin: 0 5px"></span>
    <SysCtl @closeapp="closeapp" class="window-controls-container" />
</header>

<div data-deprecated>
<!--header v-deep>
    <div class="icon square" style="border: 1px solid; cursor: pointer" @dblclick="closeapp"></div>
    <button type="button" title="back" @click="hist(-1)">&lt;</button>
    <button type="button" title="go" @click="hist(+1)">&gt;</button>
    <button type="button" title="Up" @click="pathUp">^</button>
    <button type="button" title="Home" @click="goHome">/</button>
    <div class="current_directory" contenteditable @paste.prevent="cleanPaste" @keydown.enter.prevent @keyup.enter="goPath">{{pwd}}</div>
    <button type="button" title="Go" @click="goPath">â†²</button>
    <span style="display: inline-block; width: 0.5em;"></span>
    <button type="button" @click="reload" style="display: inline-block; width: 1em; background: url(components/HeaderBar/reload.svg) no-repeat center;" title="Reload" aria-label="Reload the current remote directory"></button>
</header-->
</div>

<style>
@media screen and (max-width: 599px) {
>>>.ws { /* wide screen */
    display: none;
}
}
header>>> {
    display: flex;
    flex-direction: row;
    align-items: center;

    padding: 5px 10px;
    border-bottom: 1px solid;

    --color: black;
}
>>>.sep {
    height: calc(1em + 2px);
    border-right: 1px solid;
}
>>>.square {
    display: inline-block;
    min-width: 1em;
    min-height: 1em;
}
>>>.current_directory {
    flex: 1;
    height: calc(1em + 4px);
    font-family: Consolas;
    /* overflow-x: auto; */
    /* overflow-y: hidden; */
    overflow: hidden;
    white-space: nowrap;
}
>>>.titlebar {
    flex: 1;
    text-align: center;
    user-select: none;
    touch-action: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    -webkit-app-region: drag;
}
>>>button {
    border: none;
    background-color: white;
    transition: all .2s;
}
>>>button:not(:disabled):hover {
    background-color: #e0e0e0;
}
>>>button:disabled {
    opacity: 0.5;;
}
>>>.cd {
    flex: 1;
}
.el-button>>> {
    padding: revert;
}
</style>